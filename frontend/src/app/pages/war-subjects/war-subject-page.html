<!-- Header -->
<div class="subject-header">
  <div class="copy">
    <h1 class="title">{{ header.title }}</h1>
    <p class="desc">{{ header.desc }}</p>
  </div>
  <img class="banner" [src]="header.banner" [alt]="header.title" />
</div>

<!-- Tabs -->
<p-tabs value="0">
  <p-tablist>
    <p-tab value="0">All {{ header.title }}</p-tab>
    <p-tab value="1">{{ header.title }} in the War</p-tab>
    <p-tab value="2">Screenshots</p-tab>
  </p-tablist>

  <p-tabpanels>
    <p-tabpanel value="0">
      <p-table
        [value]="rows"
        [loading]="loading"
        [paginator]="true"
        [rows]="10"
        [rowsPerPageOptions]="[10,25,50]"
        sortMode="multiple"
        dataKey="code"
        responsiveLayout="scroll"
        styleClass="p-datatable-sm">

        <ng-template pTemplate="header">
          <tr>
            @for (c of cols; track c.field) {
              <th [pSortableColumn]="c.field">
                {{ c.header }}
                <p-sortIcon [field]="c.field"></p-sortIcon>
              </th>
            }
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-row>
          <tr (click)="onRowClick(row)" class="click-row">
            @for (c of cols; track c.field) {
              <td>{{ row[c.field] }}</td>
            }
          </tr>
        </ng-template>
      </p-table>
    </p-tabpanel>

    <p-tabpanel value="1">
      <p>Coming soon.</p>
    </p-tabpanel>

    <p-tabpanel value="2">
      <p>Coming soon.</p>
    </p-tabpanel>
  </p-tabpanels>
</p-tabs>
